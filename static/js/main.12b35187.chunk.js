(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),o=a.n(r),s=(a(25),a(11)),i=a(4),l=(a(26),a(1));function u(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault();var a=r.trim();t(a)},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){return o(e.target.value)}})]})})}function j(e){var t=e.smallImg,a=e.largeImg,n=e.alt,c=e.openModal;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image",onClick:function(){return c(a,n)}})})}function b(e){var t=e.images,a=e.openModal;return Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL,r=e.tags;return Object(l.jsx)(j,{smallImg:n,largeImg:c,alt:r,openModal:a},t)}))})}var d=a(10),m=a.n(d);m.a.defaults.baseURL="https://pixabay.com/api/";var f=function(e){var t=e.searchQuery,a=e.currentPage,n=void 0===a?1:a,c=e.perPage,r=void 0===c?12:c;return m.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(t,"&per_page=").concat(r,"&key=").concat("21932994-b9f805e2b70fd6b5c6454ae40","&page=").concat(n)).then((function(e){return e.data.hits}))},h=a(20),p=a.n(h);function g(){return Object(l.jsx)(p.a,{type:"Puff",color:"#00BFFF",height:100,width:100})}var O=a(2),v=a.n(O),x=document.querySelector("#root-portal");function S(e){var t=e.modal,a=t.image,c=t.tags,o=e.closeModal,s=function(e){"Escape"===e.code&&o()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",s),function(){return window.removeEventListener("keydown",s)}}),[]),Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&o()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:a,alt:c})})}),x)}function y(e){var t=e.loadMore,a=e.text;return Object(l.jsx)("button",{id:"toScrol",className:"Button",onClick:t,children:a})}S.propTapes={closeModal:v.a.func.isRequired};var w=a(8),M=(a(66),function(e){w.b.error(e)}),N="idle",I="pending";var k=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),j=o[0],d=o[1],m=Object(n.useState)(null),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(n.useState)(!1),x=Object(i.a)(v,2),k=x[0],F=x[1],C=Object(n.useState)(N),E=Object(i.a)(C,2),L=E[0],P=E[1],B=Object(n.useState)(1),R=Object(i.a)(B,2),T=R[0],q=R[1];function G(e,t){f({searchQuery:e,currentPage:t}).then((function(e){if(!e[0])throw Error("please enter correct value");return d((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),P(N),F(!(e.length<12)),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e})).catch((function(e){M(e.message)})),q((function(e){return e+1}))}return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{onSubmit:function(e){if(""===e)return M("please fill in the search field");q(1),d([]),c(e),P(I),G(e)}}),Object(l.jsx)(b,{images:j,openModal:function(e,t){O({image:e,tags:t})}}),"pending"===L&&Object(l.jsx)(g,{}),p&&Object(l.jsx)(S,{modal:p,closeModal:function(e){O(null)}}),k&&Object(l.jsx)(y,{loadMore:function(e){P(I),G(a,T)},text:"Load More"}),Object(l.jsx)(w.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(l.jsx)(w.a,{})]})};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.12b35187.chunk.js.map