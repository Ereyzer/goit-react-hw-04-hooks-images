{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","service/helpers/Fetch/Fetch.js","components/Loader/LoaderApp.js","components/Modal/Modal.js","components/Button/Button.js","components/App/App.js","index.js"],"names":["Searchbar","onSubmit","useState","value","setValue","className","e","preventDefault","sendValue","trim","type","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","smallImg","largeImg","alt","openModal","src","onClick","ImageGallery","images","map","id","webformatURL","largeImageURL","tags","axios","defaults","baseURL","fetchApi","searchQuery","currentPage","perPage","get","then","res","data","hits","LoaderApp","color","height","width","modalRoot","document","querySelector","Modal","modal","image","closeModal","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","currentTarget","Button","loadMore","text","propTapes","PropTypes","func","isRequired","notification","message","toast","error","Status","App","searchValue","setSearchValue","setImages","setModal","button","setButton","status","setStatus","setCurrentPage","renderGallery","page","r","Error","s","length","scrollTo","top","documentElement","scrollHeight","behavior","catch","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12b35187.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function Searchbar({ onSubmit }) {\r\n  const [value, setValue] = useState('')\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const sendValue = value.trim();\r\n\r\n    onSubmit(sendValue);\r\n  };\r\n\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={value}\r\n            onChange={(e)=>setValue(e.target.value)}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  \r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function ImageGalleryItem({smallImg, largeImg, alt, openModal}) {\r\n\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={smallImg}\r\n          alt={alt}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={() => openModal(largeImg, alt)}\r\n        />\r\n      </li>\r\n    );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImg: PropTypes.string.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport function ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          smallImg={webformatURL}\r\n          largeImg={largeImageURL}\r\n          alt={tags}\r\n          openModal={openModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\n","import axios from \"axios\";\r\n\r\n// export default class ApiService {\r\n//   BASE_KEY = '21932994-b9f805e2b70fd6b5c6454ae40';\r\n//   BASE_URL = 'https://pixabay.com/api/';\r\n//   PAGE_COUNTER = 0;\r\n//   Q = '';\r\n//   async fetchImages(q) {\r\n//     if (this.Q !== q) {\r\n//       this.Q = q;\r\n//       this.PAGE_COUNTER = 0;\r\n//     }\r\n//     this.PAGE_COUNTER = this.PAGE_COUNTER + 1;\r\n//     const response = await fetch(\r\n//       `${this.BASE_URL}?key=${this.BASE_KEY}&q=${q}&page=${this.PAGE_COUNTER}&image_type=photo&orientation=horizontal&per_page=12`,\r\n//     );\r\n//     return await response.json();\r\n//   }\r\n// }\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst apiKey = '21932994-b9f805e2b70fd6b5c6454ae40';\r\n\r\nconst fetchApi = ({searchQuery, currentPage = 1, perPage = 12}) => {\r\n   return axios.get(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`\r\n     ).then(res => res.data.hits);\r\n\r\n};\r\n\r\nexport default  fetchApi;\r\n\r\n\r\n\r\n\r\n// axios.defaults.baseURL = 'https://pixabay.com/api/';\r\n// const apiKey = '16085264-71307d3f0a6fd2ec26a379ecb';\r\n\r\n// const fetchImg = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\r\n//     return axios\r\n//         .get(\r\n//             `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\r\n//         )\r\n//         .then(res => res.data.hits);\r\n// };\r\n\r\n// export default { fetchImg };\r\n","import Loader from 'react-loader-spinner';\r\nimport React from 'react';\r\nexport default function LoaderApp() {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      // timeout={3000} //3 secs\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n//! тут пропи не пишу бо вже вони є на GileryItem\r\n\r\nconst modalRoot = document.querySelector('#root-portal');\r\nexport function Modal({modal: { image, tags }, closeModal}) {\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  useEffect(()=>{\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return ()=> window.removeEventListener('keydown', handleKeyDown);\r\n    // ! не зовсім зрозуміло чому лінтер хоче щоб запхати в масив handleKeyDown а потім щоб забрати його зводт\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n\r\n \r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={image} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n}\r\n\r\nModal.propTapes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function Button({ loadMore, text }) {\r\n  return (\r\n    <button id=\"toScrol\" className=\"Button\" onClick={loadMore}>\r\n      {text}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n","import './App.css';\r\nimport React, {useState} from 'react';\r\nimport { Searchbar } from '../Searchbar/Searchbar';\r\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\r\nimport fetchApi from '../../service/helpers/Fetch/Fetch';\r\nimport LoaderApp from '../Loader/LoaderApp';\r\nimport { Modal } from '../Modal/Modal';\r\nimport { Button } from '../Button/Button';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst notification = message => {\r\n  toast.error(message);\r\n};\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n};\r\n\r\nfunction App() {\r\n  const [searchValue, setSearchValue] = useState(null);\r\n  const [images, setImages] = useState([]);\r\n  const [modal, setModal] = useState(null);\r\n  const [button, setButton] = useState(false);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n\r\n  function renderGallery(value, page){\r\n    \r\n    fetchApi({searchQuery: value, currentPage: page}).then((r)=>{\r\n      if(!r[0])throw Error('please enter correct value');\r\n      setImages(s=>[...s,...r])\r\n      setStatus(Status.IDLE)\r\n      setButton(r.length < 12 ? false : true)\r\n             window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n      return r;\r\n    }).catch((error)=>{ \r\n      notification(error.message)})\r\n    setCurrentPage(s=>s+1);\r\n  }\r\n\r\n  const onSubmit = value => {\r\n    if (value === '') return notification('please fill in the search field');\r\n    setCurrentPage(1);\r\n    setImages([])\r\n    setSearchValue(value);\r\n    setStatus(Status.PENDING)\r\n    renderGallery(value)\r\n  };\r\n\r\n  const openModal = (image, tags) => {\r\n    setModal({image, tags});\r\n  };\r\n  const closeModal = e => {\r\n    setModal(null);\r\n  };\r\n\r\n  const loadMore = e => {\r\n    setStatus(Status.PENDING);\r\n    renderGallery(searchValue, currentPage)\r\n  };\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={onSubmit} />\r\n        <ImageGallery images={images} openModal={openModal} />\r\n        {status === 'pending' && <LoaderApp />}\r\n        {modal && <Modal modal={modal} closeModal={closeModal} />}\r\n        {button && <Button loadMore={loadMore} text=\"Load More\" />}\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}