{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","service/helpers/Fetch/Fetch.js","components/Loader/LoaderApp.js","components/Modal/Modal.js","components/Button/Button.js","components/App/App.js","index.js"],"names":["Searchbar","onSubmit","useState","value","setValue","className","e","preventDefault","sendValue","trim","type","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","smallImg","largeImg","alt","openModal","src","onClick","ImageGallery","images","map","id","webformatURL","largeImageURL","tags","axios","defaults","baseURL","fetchApi","searchQuery","currentPage","perPage","get","then","res","data","hits","LoaderApp","color","height","width","modalRoot","document","querySelector","Modal","modal","image","closeModal","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","currentTarget","Button","loadMore","text","propTapes","PropTypes","func","isRequired","notification","message","toast","error","Status","App","searchValue","setSearchValue","setImages","setModal","button","setButton","status","setStatus","setCurrentPage","renderGallery","page","r","Error","s","length","scrollTo","top","documentElement","scrollHeight","behavior","catch","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33ac99b6.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport function Searchbar({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const sendValue = value.trim();\n\n    onSubmit(sendValue);\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={value}\n          onChange={e => setValue(e.target.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function ImageGalleryItem({ smallImg, largeImg, alt, openModal }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={smallImg}\n        alt={alt}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => openModal(largeImg, alt)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport function ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          smallImg={webformatURL}\r\n          largeImg={largeImageURL}\r\n          alt={tags}\r\n          openModal={openModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\n","import axios from 'axios';\n\n// export default class ApiService {\n//   BASE_KEY = '21932994-b9f805e2b70fd6b5c6454ae40';\n//   BASE_URL = 'https://pixabay.com/api/';\n//   PAGE_COUNTER = 0;\n//   Q = '';\n//   async fetchImages(q) {\n//     if (this.Q !== q) {\n//       this.Q = q;\n//       this.PAGE_COUNTER = 0;\n//     }\n//     this.PAGE_COUNTER = this.PAGE_COUNTER + 1;\n//     const response = await fetch(\n//       `${this.BASE_URL}?key=${this.BASE_KEY}&q=${q}&page=${this.PAGE_COUNTER}&image_type=photo&orientation=horizontal&per_page=12`,\n//     );\n//     return await response.json();\n//   }\n// }\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst apiKey = '21932994-b9f805e2b70fd6b5c6454ae40';\n\nconst fetchApi = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\n    )\n    .then(res => res.data.hits);\n};\n\nexport default fetchApi;\n\n// axios.defaults.baseURL = 'https://pixabay.com/api/';\n// const apiKey = '16085264-71307d3f0a6fd2ec26a379ecb';\n\n// const fetchImg = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\n//     return axios\n//         .get(\n//             `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\n//         )\n//         .then(res => res.data.hits);\n// };\n\n// export default { fetchImg };\n","import Loader from 'react-loader-spinner';\r\nimport React from 'react';\r\nexport default function LoaderApp() {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      // timeout={3000} //3 secs\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\n//! тут пропи не пишу бо вже вони є на GileryItem\n\nconst modalRoot = document.querySelector('#root-portal');\nexport function Modal({ modal: { image, tags }, closeModal }) {\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n    // ! не зовсім зрозуміло чому лінтер хоче щоб запхати в масив handleKeyDown а потім щоб забрати його зводт\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">\n        <img src={image} alt={tags} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTapes = {\n  closeModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function Button({ loadMore, text }) {\r\n  return (\r\n    <button id=\"toScrol\" className=\"Button\" onClick={loadMore}>\r\n      {text}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n","import './App.css';\nimport React, { useState } from 'react';\nimport { Searchbar } from '../Searchbar/Searchbar';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\nimport fetchApi from '../../service/helpers/Fetch/Fetch';\nimport LoaderApp from '../Loader/LoaderApp';\nimport { Modal } from '../Modal/Modal';\nimport { Button } from '../Button/Button';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst notification = message => {\n  toast.error(message);\n};\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n};\n\nfunction App() {\n  const [searchValue, setSearchValue] = useState(null);\n  const [images, setImages] = useState([]);\n  const [modal, setModal] = useState(null);\n  const [button, setButton] = useState(false);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  function renderGallery(value, page) {\n    fetchApi({ searchQuery: value, currentPage: page })\n      .then(r => {\n        if (!r[0]) throw Error('please enter correct value');\n        setImages(s => [...s, ...r]);\n        setStatus(Status.IDLE);\n        setButton(r.length < 12 ? false : true);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n        return r;\n      })\n      .catch(error => {\n        notification(error.message);\n      });\n    setCurrentPage(s => s + 1);\n  }\n\n  const onSubmit = value => {\n    if (value === '') return notification('please fill in the search field');\n    setCurrentPage(1);\n    setImages([]);\n    setSearchValue(value);\n    setStatus(Status.PENDING);\n    renderGallery(value);\n  };\n\n  const openModal = (image, tags) => {\n    setModal({ image, tags });\n  };\n  const closeModal = e => {\n    setModal(null);\n  };\n\n  const loadMore = e => {\n    setStatus(Status.PENDING);\n    renderGallery(searchValue, currentPage);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery images={images} openModal={openModal} />\n      {status === 'pending' && <LoaderApp />}\n      {modal && <Modal modal={modal} closeModal={closeModal} />}\n      {button && <Button loadMore={loadMore} text=\"Load More\" />}\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}